<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept PUBLIC "urn:pubid:zenoss.com:doctypes:dita:dtd:concept" "concept.dtd">
<concept id="conceptid">
  <title><ph keyref="nm-cc"/> application data storage</title>
  <conbody>
    <p><ph keyref="nm-cc"/> uses a dedicated LVM thin pool on the master host to store
      application data and snapshots of application data. 
      
      <ul>
        <li>The distributed file system (DFS) of each tenant application that
            <cmdname>serviced</cmdname> manages is stored in separate virtual devices. The initial
          size of each tenant device is copied from the base device, which is created during the
          initial startup of <cmdname>serviced</cmdname>.</li>
        
        <li>Snapshots of tenant data, used as temporary restore points, are stored in separate
          virtual devices, outside of tenant virtual devices. The size of a snapshot depends on the
          size of the tenant device, and grows over time. </li>
      </ul>
    </p>    
    
    <p>The <ph keyref="nm-cc"/> master host requires high-performance, persistent storage. Storage
      can be local or remote.<ul>
        <li>For local storage, solid-state disk (SSD) devices are recommended.</li>
        <li>For remote storage, storage-area network (SAN) systems are supported. High-performance
          SAN systems are recommended, as is assigning separate logical unit numbers (LUNs) for each
          mounted path.</li>
      </ul>The overall response times of master host storage affect the performance and stability of
        <ph keyref="nm-cc"/> internal services and the applications it manages. For example,
      ZooKeeper (a key internal service) is sensitive to storage latency greater than 1000
      milliseconds.</p>

    <note> The physical devices associated with the application data thin pool must be
      persistent. If removable or re-connectable storage such as a SAN based on iSCSI is 
      used, then the Device-Mapper Multipath feature of RHEL/CentOS must be configured
      and enabled.</note>
    
    <p><ph keyref="nm-cc"/> includes the <cmdname>serviced-storage</cmdname> utility for
      creating and managing its thin pool. The <cmdname>serviced-storage</cmdname> utility
      can:
      <ul>
        <li>use physical devices or partitions, or LVM volume groups, to create a new LVM thin pool
          for application data</li>
        <li>add space to a tenant device at any time</li>
        <li>identify and clean up orphaned snapshots</li>
        <li>create an LVM thin pool for Docker data</li>
      </ul>
    </p>
  </conbody>
</concept>
